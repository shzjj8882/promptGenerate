# PM2 部署环境变量配置示例
# 复制此文件为 .env 并根据实际部署情况修改配置
#
# 注意：
# - 此文件仅配置前端应用的环境变量
# - 后端服务环境变量在 service/.env 中配置
# - ecosystem.config.js 会自动从这两个文件加载环境变量

# ============================================
# 部署模式配置
# ============================================
# 必须设置为 pm2
DEPLOYMENT_MODE=pm2

# ============================================
# API 调用方式配置
# ============================================
# USE_API_REWRITES: 是否使用 Next.js rewrites 代理后端请求
#   - true: 使用 rewrites（适用于通过 Nginx 反向代理的场景）
#   - false: 直接调用后端（适用于前后端分离部署的场景）
USE_API_REWRITES=false

# ============================================
# 选项 A：使用 rewrites（USE_API_REWRITES=true）
# ============================================
# 适用于：通过 Nginx 反向代理，统一入口
# 
# 配置示例：
# USE_API_REWRITES=true
# BACKEND_URL=http://localhost:8000
# NEXT_PUBLIC_API_BASE_URL=  # 留空，不使用直接调用
# ============================================
# USE_API_REWRITES=true
# BACKEND_URL=http://localhost:8000

# ============================================
# 选项 B：直接调用后端（USE_API_REWRITES=false）
# ============================================
# 适用于：前后端分离部署
# 
# 配置示例：
# USE_API_REWRITES=false
# NEXT_PUBLIC_API_BASE_URL=http://api.example.com
# 
# 注意：如果使用此模式，需要在 service/.env 中配置 CORS_ORIGINS
# ============================================
USE_API_REWRITES=false
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000

# ============================================
# 后端环境变量配置说明
# ============================================
# 后端服务的环境变量在 service/.env 中配置，包括：
# - 数据库配置（POSTGRES_*）
# - Redis 配置（REDIS_*）
# - CORS 配置（CORS_ORIGINS）
# - JWT 配置（SECRET_KEY、ALGORITHM 等）
# - DeepSeek API 配置（DEEPSEEK_*）
# 
# 请编辑 service/.env 文件配置后端环境变量
# ============================================
